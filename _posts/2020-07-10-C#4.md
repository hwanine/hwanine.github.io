---
toc: true
toc_sticky: true
categories:
  - C#
title: C# - C# 학습 정리 + Windows Form (4)
tags: [C#, Windows Form]
excerpt: "객체지향 프로그래밍 언어로 자바를 주로 사용해왔기 때문에 C#만의 특징을 지니는 문법위주로 포스팅하겠습니다."
---

# C# 프로그래밍

## 파일입출력

> **파일을 한번에 접근**

다음과 같이 코드를 사용하면 문자열을 한번에 파일에 쓸 수 있습니다.  

여기서 `@`를 문자열 앞에 사용하면 `\` 같은 특수한 이스케이프 문자를 사용할 수 없도록 해줍니다.

```c#
class Program
{
    static void main(string[] args)
    {
        File.WriteAllText(@"C:\test\test.text", "쓸 문자열");
    }
}
```

파일을 읽을 때는 다음과 같이 접근합니다.
```c#
class Program
{
    static void main(string[] args)
    {
        Console.WriteLine(File.ReadAllText(@"C:\test\test.text"));
    }
}
```

<br>

> **한 줄씩 접근**

한 줄씩 접근할 때에는 `StreamWriter`과 `StreamReader` 클래스를 사용합니다.

이들 클래스는 TextWriter 클래스의 상속을 받고있으며 그 위에는 IDisposable 인터페이스가 존재합니다.

따라서 using으로 묶어서 사용하고 예외가 발생하거나 종료시 Dispose 메서드가 호출되도록 합니다.

```c#
class Program: IDisposable
{
    static void Main(string[] args)
    {
        using (StreamWriter writer = new StreamWriter(@"C:\test\test.txt"))
        {
            writer.WriteLine("안녕하세요");
        }

        using (StreamReader reader = new StreamReader(@"c:\test\test.txt"))
        {
            string line;
            while((line = reader.ReadLine()) != null)
            {
                Console.WriteLine(line);
            }
        }
                
    }

    public void Dispose()
    {
        throw new NotImplementedException();
    }
}
```

# 윈도우 폼

## 레이블과 링크 레이블

```c#
 public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();

            Label label = new Label()
            {
                Text = "글자",
                Location = new Point(10, 10)
            };

            LinkLabel linklabel = new LinkLabel()
            {
                Text = "글자",
                Location = new Point(10, 50)
            };

            linklabel.Click += LabelClick;

            Controls.Add(label);
            Controls.Add(linklabel);
        }

        private void LabelClick(object sender, EventArgs s)
        {
            throw new NotImplementedException();
        }
    }
```

<br>

## 체크박스, 라디오 버튼, 그룹 박스

체크박스, 라디오 버튼도 위의 레이블처럼 적용하면 됩니다.  

라디오버튼의 경우 라디오 버튼이 부모 요소의 지배를 받기 때문에 자동으로 1개만 선택가능하도록 제어합니다.

이를 거부하고 그룹으로 나누어서 라디오 버튼을 선택할 수 있게 하려면 그룹박스를 이용합니다.

다음은 간단한 예제 입니다.

```c#
public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();

            GroupBox groupbox1 = new GroupBox();
            GroupBox groupbox2 = new GroupBox();
            RadioButton radio1 = new RadioButton();
            RadioButton radio2 = new RadioButton();
            RadioButton radio3 = new RadioButton();
            RadioButton radio4 = new RadioButton();
            Button button = new Button();

            groupbox1.Text = "식물";
            groupbox2.Text = "물고기";
            radio1.Text = "감자";
            radio2.Text = "고구마";
            radio3.Text = "광어";
            radio4.Text = "우럭";
            button.Text = "클릭";

            groupbox1.Size = new Size(120, 100);
            groupbox2.Size = new Size(120, 100);

            groupbox1.Location = new Point(10, 10);
            groupbox2.Location = new Point(140, 10);

            radio1.Location = new Point(10, 30);
            radio2.Location = new Point(10, 60);
            radio3.Location = new Point(10, 30);
            radio4.Location = new Point(10, 60);
            button.Location = new Point(10, 120);

            button.Click += ButtonClick;

            groupbox1.Controls.Add(radio1);
            groupbox1.Controls.Add(radio2);

            groupbox2.Controls.Add(radio3);
            groupbox2.Controls.Add(radio4);

            Controls.Add(groupbox1);
            Controls.Add(groupbox2);
            Controls.Add(button);

        }

       

        private void ButtonClick(object sender, EventArgs s)
        {
            foreach (var outerItem in Controls)
            {
                if(outerItem is GroupBox)
                {
                    foreach(var innerItem in ((GroupBox)outerItem).Controls)
                    {
                        RadioButton radiobutton = innerItem as RadioButton;
                        if(radiobutton != null && radiobutton.Checked)
                        {
                            MessageBox.Show(radiobutton.Text);
                        }
                    }
                }
            }
        }
    }
```

<br>

- 참고자료: C# 프로그래밍 - 한빛아카데미
