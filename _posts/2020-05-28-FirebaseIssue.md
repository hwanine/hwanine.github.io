---
toc: true
toc_sticky: true
categories:
  - Android
title: Android - Firebase 앱 등록 설치 오류
tags: [Android, Firebase]
excerpt: "'앱이 Google 서버와 통신했는지 확인하는 중입니다. 앱을 제거한 후 다시 설치해야 할 수도 있습니다.' 에 대한 문제 해결"
---

# 문제 발생

`'앱이 Google 서버와 통신했는지 확인하는 중입니다. 앱을 제거한 후 다시 설치해야 할 수도 있습니다.'`

필자는 앱 개발을 완료하여 앱을 배포해야 하는데 앱의 프로젝트가 **com.example...** 이었기 떄문에 배포가 제한되었다.  

example이 붙은 앱 이름은 배포가 안된다나 뭐래나..

그래서 임의의 이름으로 바꾼 후 Firebase에 등록된 앱을 삭제하고 다시 만들어 재인증을 받는 과정에서 다음과 같이 마지막 설치 확인이 안되었다.

![image](https://user-images.githubusercontent.com/57826388/80280499-70993680-873f-11ea-8cd5-aa8515d9eeef.png)

<br>

# 해결

문제는 그래들을 최신으로 업데이트해보고 에물레이터와 디바이스로도 돌려보았지만 해결되지 않았다.

분명히 앱 내부에 이전 프로젝트명은 다 사라졌고 파이어베이스에 앱도 지우고 다시 만들었는데 왜 안되는걸까?

바로 캐시 떄문에 안되는 거였다!  
캐시가 자동으로 이전 프로젝트로의 경로를 잡고 있기 때문이다. 

따라서 우리가 해주어야 할건 다음과 같다.

<br>

1. Invalidate Caches / Restart...

이 방법은 아마 안될 확률이 크다. 하지만 먼저 시도해보는 것이 좋다.

![image](https://user-images.githubusercontent.com/57826388/80280615-23699480-8740-11ea-876e-b6330c76bdf3.png)

<br>

2. .gradle, build 삭제

![image](https://user-images.githubusercontent.com/57826388/80280623-2feded00-8740-11ea-956f-6bb3b4368218.png)

다음 빨갛게 표시된 폴더를 지운다!  
아마 대부분 여기서 저 두 폴더를 지운 후에 파이어베이스 인증이 잘 될 것이다.

하지만 안될 수도 있지!

<br>

3. 캐시폴더 내부 직접삭제

**C:\Users\사용자계정\.gradle\caches**

다음 로컬 경로에서 caches 폴더 내부를 싹 비워준다.

그런다음 빌드를 하고 앱을 실행시키면 잘 될 것이다.

주의해야할 점이 있는데

캐시를 비우기 전, 백업은 필수로 해두는 것이 좋다.  
어짜피 앱을 출시하기 전이면 이미 대부분 git이나 다른 형상관리 툴을 사용하여 백업본을 지정해 두었을테니 크게 걱정할 일은 아닌 것 같다.
